{{ $allBlogs:= where .ctx.Site.Pages "Section" "blog"   }}
{{ $blogPosts:=(where $allBlogs ".IsPage" true).Reverse}}
{{ $listPage:=(first 1 (where $allBlogs ".IsNode" true)) }}
{{ $paginator:= .ctx.Paginate $blogPosts 12}}
    {{if .onHome}}
        {{if gt (len $blogPosts) 0}}
    <section id="blog-list-section" >
            <div class="bx--grid" >
        <div class="bx--row">
            <div class="bx--col-lg-2">
                <h5>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h5>
            </div>
            <div class="bx--col">
                <div class="bx--grid--condensed">
                    <div class="bx--row">
                        {{range first 5 $blogPosts}}
                        <div class="bx--col-md-4 bx--col-lg-6 bx--col-xlg-4">
                            {{- partial "components/card.html"
                            ( dict
                            "ctx" .
                            "media" false
                            "heading" .Params.Title
                            "copy" .Params.Description
                            "link" .Permalink
                            "ctaText" "Nullam id efficitur"
                            )
                            -}}
                        </div>
                        {{end}}
                        {{if gt (len $blogPosts) 5}}
                            {{range $listPage}}
                            <div class="bx--col-md-4 bx--col-lg-6 bx--col-xlg-4">
                                {{- partial "components/card.html"
                                ( dict
                                "ctx" .
                                "heading" "Nunc lobortis"
                                "copy" .Params.Description
                                "link" .Permalink
                                "ctaText" "Nullam id efficitur"
                                "index" true
                                )
                                -}}
                            </div>
                            {{end}}
                        {{end}}
                    </div>


                </div>
            </div>
        </div>
    </div>
        {{end}}
    {{else}}
    <section id="blog-list-section" >
    <div class="bx--grid" >
        <div class="bx--row">
            {{if gt (len $blogPosts) 0}}
            <div class="bx--col-lg-2 " >
                <h5>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h5>
                <br>
                <p>Aliquam nulla nisi, accumsan in nisi eget, semper tincidunt urna. </p>
                <br>
            </div>
            <div class="bx--col">
                <div class="bx--grid--condensed">
                    <div class="bx--row list-content-row" >
                        {{if gt (len $blogPosts) 0}}
                            {{range $paginator.Pages}}
                            <div class=" bx--col-md-4 bx--col-lg-6 bx--col-xlg-4">
                                {{- partial "components/card.html"
                                ( dict
                                "ctx" .
                                "media" false
                                "heading" .Params.Title
                                "copy" .Params.Description
                                "link" .Permalink
                                "ctaText" "Aenean id"
                                )
                                -}}
                            </div>
                            {{end}}

                        {{else}}
                        <h1>Mauris posuere a diam et interdum.</h1>
                        {{end}}
                    </div>
                    {{if gt (len $blogPosts) 0}}
                    <div class="bx--row">
                        <div class="bx--col" ></div>

                        <div class="bx--col" >
                            {{- partial "components/pagination" (dict "ctx" . "paginator" $paginator) -}}
                        </div>
                        <div class="bx--col" ></div>
                    </div>
                    {{end}}


                </div>
            </div>
            {{else}}
            {{- partial "components/error.html" . -}}
            {{end}}
        </div>
    </div>
    {{end}}
</section>
